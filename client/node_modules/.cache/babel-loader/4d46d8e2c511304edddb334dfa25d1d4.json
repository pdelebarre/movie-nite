{"ast":null,"code":"var _jsxFileName = \"/Volumes/LaCie/Dev/myProjects/movie-nite/src/store/realm.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as RealmWeb from \"realm-web\";\nimport React, { useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RealmAppContext = /*#__PURE__*/React.createContext(null);\n\nconst RealmApp = ({\n  children\n}) => {\n  _s();\n\n  const REALM_APP_ID = \"application-1-zgoro\";\n  const app = new RealmWeb.App({\n    id: REALM_APP_ID\n  });\n  const [user, setUser] = useState(null); // const logIn = async (email, password) => {\n  //     const credentials = RealmWeb.Credentials.emailPassword(email, password)\n  //     try {\n  //         await app.logIn(credentials)\n  //         setUser(app.currentUser)\n  //         return app.currentUser\n  //     } catch (e) {\n  //         setUser(null)\n  //         return null\n  //     }\n  // }\n\n  const loginApiKey = async api_key => {\n    const credentials = RealmWeb.Credentials.apiKey(api_key);\n\n    try {\n      await app.logIn(credentials);\n      setUser(app.currentUser);\n      return app.currentUser;\n    } catch (e) {\n      setUser(null);\n      return null;\n    }\n  };\n\n  const logOut = () => {\n    if (user !== null) {\n      app.currentUser.logOut();\n      setUser(null);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(RealmAppContext.Provider, {\n    value: {\n      loginApiKey,\n      logOut,\n      user\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RealmApp, \"Iei9RGtZU29Y1RhBe1sbfh/MntA=\");\n\n_c = RealmApp;\nexport const useRealmApp = () => {\n  _s2();\n\n  const realmContext = useContext(RealmAppContext);\n\n  if (realmContext == null) {\n    throw new Error(\"useRealmApp() called outside of a RealmApp?\");\n  }\n\n  return realmContext;\n};\n\n_s2(useRealmApp, \"9rITAoR7OQ/eW7sw5VDffrSA7zY=\");\n\nexport default RealmApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"RealmApp\");","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/store/realm.js"],"names":["RealmWeb","React","useContext","useState","RealmAppContext","createContext","RealmApp","children","REALM_APP_ID","app","App","id","user","setUser","loginApiKey","api_key","credentials","Credentials","apiKey","logIn","currentUser","e","logOut","useRealmApp","realmContext","Error"],"mappings":";;;;AAAA,OAAO,KAAKA,QAAZ,MAA0B,WAA1B;AAEA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;;AAEA,MAAMC,eAAe,gBAAGH,KAAK,CAACI,aAAN,CAAoB,IAApB,CAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC/B,QAAMC,YAAY,GAAG,qBAArB;AAEA,QAAMC,GAAG,GAAG,IAAIT,QAAQ,CAACU,GAAb,CAAiB;AAAEC,IAAAA,EAAE,EAAEH;AAAN,GAAjB,CAAZ;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,IAAD,CAAhC,CAJ+B,CAM/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMW,WAAW,GAAG,MAAOC,OAAP,IAAmB;AACnC,UAAMC,WAAW,GAAGhB,QAAQ,CAACiB,WAAT,CAAqBC,MAArB,CAA4BH,OAA5B,CAApB;;AACA,QAAI;AACA,YAAMN,GAAG,CAACU,KAAJ,CAAUH,WAAV,CAAN;AACAH,MAAAA,OAAO,CAACJ,GAAG,CAACW,WAAL,CAAP;AACA,aAAOX,GAAG,CAACW,WAAX;AACH,KAJD,CAIE,OAAOC,CAAP,EAAU;AACRR,MAAAA,OAAO,CAAC,IAAD,CAAP;AACA,aAAO,IAAP;AACH;AACJ,GAVD;;AAYA,QAAMS,MAAM,GAAG,MAAM;AACjB,QAAIV,IAAI,KAAK,IAAb,EAAmB;AACfH,MAAAA,GAAG,CAACW,WAAJ,CAAgBE,MAAhB;AACAT,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH;AACJ,GALD;;AAOA,sBACI,QAAC,eAAD,CAAiB,QAAjB;AACI,IAAA,KAAK,EAAE;AACHC,MAAAA,WADG;AAEHQ,MAAAA,MAFG;AAGHV,MAAAA;AAHG,KADX;AAAA,cAOKL;AAPL;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CAhDD;;GAAMD,Q;;KAAAA,Q;AAkDN,OAAO,MAAMiB,WAAW,GAAG,MAAM;AAAA;;AAC7B,QAAMC,YAAY,GAAGtB,UAAU,CAACE,eAAD,CAA/B;;AACA,MAAIoB,YAAY,IAAI,IAApB,EAA0B;AACtB,UAAM,IAAIC,KAAJ,CAAU,6CAAV,CAAN;AACH;;AACD,SAAOD,YAAP;AACH,CANM;;IAAMD,W;;AAQb,eAAejB,QAAf","sourcesContent":["import * as RealmWeb from \"realm-web\"\n\nimport React, { useContext, useState } from \"react\"\n\nconst RealmAppContext = React.createContext(null)\n\nconst RealmApp = ({ children }) => {\n    const REALM_APP_ID = \"application-1-zgoro\"; \n    \n    const app = new RealmWeb.App({ id: REALM_APP_ID })\n    const [user, setUser] = useState(null)\n\n    // const logIn = async (email, password) => {\n    //     const credentials = RealmWeb.Credentials.emailPassword(email, password)\n    //     try {\n    //         await app.logIn(credentials)\n    //         setUser(app.currentUser)\n    //         return app.currentUser\n    //     } catch (e) {\n    //         setUser(null)\n    //         return null\n    //     }\n    // }\n\n    const loginApiKey = async (api_key) => {\n        const credentials = RealmWeb.Credentials.apiKey(api_key)\n        try {\n            await app.logIn(credentials)\n            setUser(app.currentUser)\n            return app.currentUser\n        } catch (e) {\n            setUser(null)\n            return null\n        }\n    }\n\n    const logOut = () => {\n        if (user !== null) {\n            app.currentUser.logOut()\n            setUser(null)\n        }\n    }\n\n    return (\n        <RealmAppContext.Provider\n            value={{\n                loginApiKey,\n                logOut,\n                user,\n            }}\n        >\n            {children}\n        </RealmAppContext.Provider>\n    )\n}\n\nexport const useRealmApp = () => {\n    const realmContext = useContext(RealmAppContext)\n    if (realmContext == null) {\n        throw new Error(\"useRealmApp() called outside of a RealmApp?\")\n    }\n    return realmContext\n}\n\nexport default RealmApp"]},"metadata":{},"sourceType":"module"}