{"ast":null,"code":"import { memo, useCallback, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { optionType, valueType } from '../types';\nimport OptionsList from './OptionsList';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst Options = ({\n  options,\n  optionProps,\n  snapshot,\n  cls,\n  renderGroupHeader,\n  renderOption,\n  emptyMessage\n}) => {\n  const selectRef = useRef(null);\n  const {\n    value,\n    highlighted\n  } = snapshot;\n  const renderEmptyMessage = useCallback(() => {\n    if (emptyMessage === null) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsx(\"li\", {\n      className: cls('not-found'),\n      children: typeof emptyMessage === 'function' ? emptyMessage() : emptyMessage\n    });\n  }, [emptyMessage, cls]);\n  useEffect(() => {\n    const {\n      current\n    } = selectRef;\n\n    if (!current || highlighted < 0 && Array.isArray(value) || value === null) {\n      return;\n    }\n\n    const query = highlighted > -1 ? `[data-index=\"${highlighted}\"]` : `[data-value=\"${escape(value)}\"]`;\n    const selected = current.querySelector(query);\n\n    if (selected) {\n      const rect = current.getBoundingClientRect();\n      const selectedRect = selected.getBoundingClientRect();\n      current.scrollTop = selected.offsetTop - rect.height / 2 + selectedRect.height / 2;\n    }\n  }, [value, highlighted, selectRef]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    _jsx(\"div\", {\n      className: cls('select'),\n      ref: selectRef,\n      onMouseDown: e => e.preventDefault(),\n      children: options.length ? /*#__PURE__*/_jsx(OptionsList, {\n        optionProps: optionProps,\n        snapshot: snapshot,\n        options: options,\n        renderOption: renderOption,\n        renderGroupHeader: renderGroupHeader,\n        cls: cls\n      }) : /*#__PURE__*/_jsx(\"ul\", {\n        className: cls('options'),\n        children: renderEmptyMessage()\n      })\n    })\n  );\n};\n\nOptions.defaultProps = {\n  renderOption: null,\n  renderGroupHeader: null,\n  emptyMessage: null\n};\nOptions.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  options: PropTypes.arrayOf(optionType).isRequired,\n  optionProps: PropTypes.shape({\n    tabIndex: PropTypes.string.isRequired,\n    onMouseDown: PropTypes.func.isRequired\n  }).isRequired,\n  snapshot: PropTypes.shape({\n    highlighted: PropTypes.number.isRequired,\n    value: valueType\n  }).isRequired,\n  cls: PropTypes.func.isRequired,\n  renderGroupHeader: PropTypes.func,\n  renderOption: PropTypes.func,\n  emptyMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n} : {};\nexport default /*#__PURE__*/memo(Options);","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/node_modules/react-select-search/dist/esm/Components/Options.js"],"names":["memo","useCallback","useEffect","useRef","PropTypes","optionType","valueType","OptionsList","jsx","_jsx","Options","options","optionProps","snapshot","cls","renderGroupHeader","renderOption","emptyMessage","selectRef","value","highlighted","renderEmptyMessage","className","children","current","Array","isArray","query","escape","selected","querySelector","rect","getBoundingClientRect","selectedRect","scrollTop","offsetTop","height","ref","onMouseDown","e","preventDefault","length","defaultProps","propTypes","process","env","NODE_ENV","arrayOf","isRequired","shape","tabIndex","string","func","number","oneOfType"],"mappings":"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","sourcesContent":["import { memo, useCallback, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { optionType, valueType } from '../types';\nimport OptionsList from './OptionsList';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst Options = ({\n  options,\n  optionProps,\n  snapshot,\n  cls,\n  renderGroupHeader,\n  renderOption,\n  emptyMessage\n}) => {\n  const selectRef = useRef(null);\n  const {\n    value,\n    highlighted\n  } = snapshot;\n  const renderEmptyMessage = useCallback(() => {\n    if (emptyMessage === null) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsx(\"li\", {\n      className: cls('not-found'),\n      children: typeof emptyMessage === 'function' ? emptyMessage() : emptyMessage\n    });\n  }, [emptyMessage, cls]);\n  useEffect(() => {\n    const {\n      current\n    } = selectRef;\n\n    if (!current || highlighted < 0 && Array.isArray(value) || value === null) {\n      return;\n    }\n\n    const query = highlighted > -1 ? `[data-index=\"${highlighted}\"]` : `[data-value=\"${escape(value)}\"]`;\n    const selected = current.querySelector(query);\n\n    if (selected) {\n      const rect = current.getBoundingClientRect();\n      const selectedRect = selected.getBoundingClientRect();\n      current.scrollTop = selected.offsetTop - rect.height / 2 + selectedRect.height / 2;\n    }\n  }, [value, highlighted, selectRef]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    _jsx(\"div\", {\n      className: cls('select'),\n      ref: selectRef,\n      onMouseDown: e => e.preventDefault(),\n      children: options.length ? /*#__PURE__*/_jsx(OptionsList, {\n        optionProps: optionProps,\n        snapshot: snapshot,\n        options: options,\n        renderOption: renderOption,\n        renderGroupHeader: renderGroupHeader,\n        cls: cls\n      }) : /*#__PURE__*/_jsx(\"ul\", {\n        className: cls('options'),\n        children: renderEmptyMessage()\n      })\n    })\n  );\n};\n\nOptions.defaultProps = {\n  renderOption: null,\n  renderGroupHeader: null,\n  emptyMessage: null\n};\nOptions.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  options: PropTypes.arrayOf(optionType).isRequired,\n  optionProps: PropTypes.shape({\n    tabIndex: PropTypes.string.isRequired,\n    onMouseDown: PropTypes.func.isRequired\n  }).isRequired,\n  snapshot: PropTypes.shape({\n    highlighted: PropTypes.number.isRequired,\n    value: valueType\n  }).isRequired,\n  cls: PropTypes.func.isRequired,\n  renderGroupHeader: PropTypes.func,\n  renderOption: PropTypes.func,\n  emptyMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n} : {};\nexport default /*#__PURE__*/memo(Options);"]},"metadata":{},"sourceType":"module"}