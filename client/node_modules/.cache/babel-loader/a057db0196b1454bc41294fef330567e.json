{"ast":null,"code":"var _jsxFileName = \"/Volumes/LaCie/Dev/myProjects/movie-nite/src/components/Lycos.js\",\n    _s = $RefreshSig$();\n\n// import React, { useState } from \"react\";\n// import AsyncSelect from \"react-select\";\n// import makeAnimated from \"react-select/animated\";\n// const Lycos = () => {\n//   const [query, setQuery] = useState(\"\");\n//   //get animated components wrapper\n//   const animatedComponents = makeAnimated();\n//   // fetch filtered search results for dropdown\n//   const loadOptions = () => {\n//     console.log(\"loading\");\n//     return fetch(\n//       `https://api.themoviedb.org/3/search/movie?api_key=5dcf7f28a88be0edc01bbbde06f024ab&language=en-US&query=${query}&page=1&include_adult=false`\n//     ).then((res) => res.json());\n//   };\n//   return (\n//     <>\n//       <AsyncSelect\n//         cacheOptions\n//         components={animatedComponents}\n//         getOptionLabel={(e) => e.title}\n//         getOptionValue={(e) => e.id}\n//         loadOptions={loadOptions}\n//         onInputChange={(value) => setQuery(value)}\n//         onChange={(value) => setCollabs(value)}\n//       />\n//     </>\n//   );\n// };\n// export default Lycos;\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { AsyncPaginate } from \"react-select-async-paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Lycos = props => {\n  _s();\n\n  const [regionName, setRegionName] = useState(null);\n  useEffect(() => {\n    setRegionName(props.regionName);\n  }, [props.regionName]);\n\n  const loadOptions = async (searchQuery, loadedOptions, {\n    page\n  }) => {\n    const response = await fetch(`https://www.anapioficeandfire.com/api/houses?region=${regionName}&page=${page}&pageSize=10`);\n    const responseJSON = await response.json();\n    return {\n      options: responseJSON,\n      hasMore: responseJSON.length >= 1,\n      additional: {\n        page: searchQuery ? 2 : page + 1\n      }\n    };\n  };\n\n  const onChange = option => {\n    if (typeof props.onChange === \"function\") {\n      props.onChange(option);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(AsyncPaginate, {\n    value: props.value || \"\",\n    loadOptions: loadOptions,\n    getOptionValue: option => option.name,\n    getOptionLabel: option => option.name,\n    onChange: onChange,\n    isSearchable: false,\n    placeholder: \"Select House\",\n    additional: {\n      page: 1\n    }\n  }, JSON.stringify(regionName), false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Lycos, \"pIKkJznGO8D9sJ6w7ziv1XfzBcA=\");\n\n_c = Lycos;\nLycos.propTypes = {\n  regionName: PropTypes.string.isRequired,\n  value: PropTypes.object,\n  onChange: PropTypes.func\n};\nexport default Lycos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Lycos\");","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/components/Lycos.js"],"names":["React","useEffect","useState","PropTypes","AsyncPaginate","Lycos","props","regionName","setRegionName","loadOptions","searchQuery","loadedOptions","page","response","fetch","responseJSON","json","options","hasMore","length","additional","onChange","option","value","name","JSON","stringify","propTypes","string","isRequired","object","func"],"mappings":";;;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,QAA8B,6BAA9B;;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAAA;;AACvB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BN,QAAQ,CAAC,IAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,aAAa,CAACF,KAAK,CAACC,UAAP,CAAb;AACD,GAFQ,EAEN,CAACD,KAAK,CAACC,UAAP,CAFM,CAAT;;AAIA,QAAME,WAAW,GAAG,OAAOC,WAAP,EAAoBC,aAApB,EAAmC;AAAEC,IAAAA;AAAF,GAAnC,KAAgD;AAElE,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,uDAAsDP,UAAW,SAAQK,IAAK,cADrD,CAA5B;AAGA,UAAMG,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA3B;AAEA,WAAO;AACLC,MAAAA,OAAO,EAAEF,YADJ;AAELG,MAAAA,OAAO,EAAEH,YAAY,CAACI,MAAb,IAAuB,CAF3B;AAGLC,MAAAA,UAAU,EAAE;AACVR,QAAAA,IAAI,EAAEF,WAAW,GAAG,CAAH,GAAOE,IAAI,GAAG;AADrB;AAHP,KAAP;AAOD,GAdD;;AAgBA,QAAMS,QAAQ,GAAIC,MAAD,IAAY;AAC3B,QAAI,OAAOhB,KAAK,CAACe,QAAb,KAA0B,UAA9B,EAA0C;AACxCf,MAAAA,KAAK,CAACe,QAAN,CAAeC,MAAf;AACD;AACF,GAJD;;AAMA,sBACE,QAAC,aAAD;AAEE,IAAA,KAAK,EAAEhB,KAAK,CAACiB,KAAN,IAAe,EAFxB;AAGE,IAAA,WAAW,EAAEd,WAHf;AAIE,IAAA,cAAc,EAAGa,MAAD,IAAYA,MAAM,CAACE,IAJrC;AAKE,IAAA,cAAc,EAAGF,MAAD,IAAYA,MAAM,CAACE,IALrC;AAME,IAAA,QAAQ,EAAEH,QANZ;AAOE,IAAA,YAAY,EAAE,KAPhB;AAQE,IAAA,WAAW,EAAC,cARd;AASE,IAAA,UAAU,EAAE;AACVT,MAAAA,IAAI,EAAE;AADI;AATd,KACOa,IAAI,CAACC,SAAL,CAAenB,UAAf,CADP;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,CA5CD;;GAAMF,K;;KAAAA,K;AA8CNA,KAAK,CAACsB,SAAN,GAAkB;AAChBpB,EAAAA,UAAU,EAAEJ,SAAS,CAACyB,MAAV,CAAiBC,UADb;AAEhBN,EAAAA,KAAK,EAAEpB,SAAS,CAAC2B,MAFD;AAGhBT,EAAAA,QAAQ,EAAElB,SAAS,CAAC4B;AAHJ,CAAlB;AAMA,eAAe1B,KAAf","sourcesContent":["// import React, { useState } from \"react\";\n// import AsyncSelect from \"react-select\";\n\n// import makeAnimated from \"react-select/animated\";\n\n// const Lycos = () => {\n//   const [query, setQuery] = useState(\"\");\n\n//   //get animated components wrapper\n//   const animatedComponents = makeAnimated();\n\n//   // fetch filtered search results for dropdown\n//   const loadOptions = () => {\n//     console.log(\"loading\");\n//     return fetch(\n//       `https://api.themoviedb.org/3/search/movie?api_key=5dcf7f28a88be0edc01bbbde06f024ab&language=en-US&query=${query}&page=1&include_adult=false`\n//     ).then((res) => res.json());\n//   };\n\n//   return (\n//     <>\n//       <AsyncSelect\n//         cacheOptions\n//         components={animatedComponents}\n//         getOptionLabel={(e) => e.title}\n//         getOptionValue={(e) => e.id}\n//         loadOptions={loadOptions}\n//         onInputChange={(value) => setQuery(value)}\n//         onChange={(value) => setCollabs(value)}\n//       />\n//     </>\n//   );\n// };\n\n// export default Lycos;\n\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { AsyncPaginate } from \"react-select-async-paginate\";\n\nconst Lycos = (props) => {\n  const [regionName, setRegionName] = useState(null);\n\n  useEffect(() => {\n    setRegionName(props.regionName);\n  }, [props.regionName]);\n\n  const loadOptions = async (searchQuery, loadedOptions, { page }) => {\n\n    const response = await fetch(\n      `https://www.anapioficeandfire.com/api/houses?region=${regionName}&page=${page}&pageSize=10`\n    );\n    const responseJSON = await response.json();\n\n    return {\n      options: responseJSON,\n      hasMore: responseJSON.length >= 1,\n      additional: {\n        page: searchQuery ? 2 : page + 1,\n      },\n    };\n  };\n\n  const onChange = (option) => {\n    if (typeof props.onChange === \"function\") {\n      props.onChange(option);\n    }\n  };\n\n  return (\n    <AsyncPaginate\n      key={JSON.stringify(regionName)}\n      value={props.value || \"\"}\n      loadOptions={loadOptions}\n      getOptionValue={(option) => option.name}\n      getOptionLabel={(option) => option.name}\n      onChange={onChange}\n      isSearchable={false}\n      placeholder=\"Select House\"\n      additional={{\n        page: 1,\n      }}\n    />\n  );\n};\n\nLycos.propTypes = {\n  regionName: PropTypes.string.isRequired,\n  value: PropTypes.object,\n  onChange: PropTypes.func,\n};\n\nexport default Lycos;\n"]},"metadata":{},"sourceType":"module"}