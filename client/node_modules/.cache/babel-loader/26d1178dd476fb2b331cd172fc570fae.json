{"ast":null,"code":"var _jsxFileName = \"/Volumes/LaCie/Dev/myProjects/movie-nite/src/UI/AddMovieButton.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./AddMovieButton.module.css\";\nimport GENRES from \"../resources/genres\";\nimport { useMongoDB } from \"../store/mongodb\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getGenres = genre_ids => {\n  let genres_array = [];\n  genre_ids.map(id => {\n    const result = GENRES.find(genre => genre.id === id);\n    genres_array.push(result.name);\n    return genres_array;\n  });\n  console.log(genres_array.toString());\n  return genres_array.toString();\n};\n\nconst AddMovieButton = props => {\n  _s();\n\n  const {\n    db\n  } = useMongoDB();\n\n  const onAddMovie = async ({\n    id,\n    title,\n    genre_ids,\n    poster_path,\n    overview,\n    vote_average\n  }) => {\n    console.log(`adding `, id, title, genre_ids, poster_path, overview, vote_average);\n    const genres = getGenres(genre_ids);\n    await db.collection(\"movies\").insertOne({\n      id: id,\n      title: title,\n      genres: genres,\n      posterpath: poster_path,\n      overview: overview,\n      voteaverage: Number(vote_average),\n      watched: false\n    }).then(result => console.log(`Successfully inserted item with _id: ${result.insertedId}`)).catch(err => console.error(`Failed to insert item: ${err}`));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.moviebutton,\n    onClick: onAddMovie.bind(null, props.movie),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.title,\n      children: props.movie.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.vote,\n      children: props.movie.vote_average\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, props.movie.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddMovieButton, \"sRqBXEybUPiyTOI1HughLpp2/+I=\", false, function () {\n  return [useMongoDB];\n});\n\n_c = AddMovieButton;\nexport default AddMovieButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMovieButton\");","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/UI/AddMovieButton.js"],"names":["classes","GENRES","useMongoDB","getGenres","genre_ids","genres_array","map","id","result","find","genre","push","name","console","log","toString","AddMovieButton","props","db","onAddMovie","title","poster_path","overview","vote_average","genres","collection","insertOne","posterpath","voteaverage","Number","watched","then","insertedId","catch","err","error","moviebutton","bind","movie","vote"],"mappings":";;;AAAA,OAAOA,OAAP,MAAoB,6BAApB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,SAASC,UAAT,QAA2B,kBAA3B;;;AAGA,MAAMC,SAAS,GAAIC,SAAD,IAAe;AAC/B,MAAIC,YAAY,GAAG,EAAnB;AACAD,EAAAA,SAAS,CAACE,GAAV,CAAeC,EAAD,IAAQ;AACpB,UAAMC,MAAM,GAAGP,MAAM,CAACQ,IAAP,CAAaC,KAAD,IAAWA,KAAK,CAACH,EAAN,KAAaA,EAApC,CAAf;AACAF,IAAAA,YAAY,CAACM,IAAb,CAAkBH,MAAM,CAACI,IAAzB;AACA,WAAOP,YAAP;AACD,GAJD;AAMAQ,EAAAA,OAAO,CAACC,GAAR,CAAYT,YAAY,CAACU,QAAb,EAAZ;AACA,SAAOV,YAAY,CAACU,QAAb,EAAP;AACD,CAVD;;AAYA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAAA;;AAChC,QAAM;AAAEC,IAAAA;AAAF,MAAShB,UAAU,EAAzB;;AAEA,QAAMiB,UAAU,GAAG,OAAO;AACxBZ,IAAAA,EADwB;AAExBa,IAAAA,KAFwB;AAGxBhB,IAAAA,SAHwB;AAIxBiB,IAAAA,WAJwB;AAKxBC,IAAAA,QALwB;AAMxBC,IAAAA;AANwB,GAAP,KAOb;AACJV,IAAAA,OAAO,CAACC,GAAR,CACG,SADH,EAEEP,EAFF,EAGEa,KAHF,EAIEhB,SAJF,EAKEiB,WALF,EAMEC,QANF,EAOEC,YAPF;AAUA,UAAMC,MAAM,GAAGrB,SAAS,CAACC,SAAD,CAAxB;AACA,UAAMc,EAAE,CACLO,UADG,CACQ,QADR,EACkBC,SADlB,CAC4B;AAC9BnB,MAAAA,EAAE,EAAEA,EAD0B;AAE9Ba,MAAAA,KAAK,EAAEA,KAFuB;AAG9BI,MAAAA,MAAM,EAAEA,MAHsB;AAI9BG,MAAAA,UAAU,EAAEN,WAJkB;AAK9BC,MAAAA,QAAQ,EAAEA,QALoB;AAM9BM,MAAAA,WAAW,EAAEC,MAAM,CAACN,YAAD,CANW;AAO9BO,MAAAA,OAAO,EAAE;AAPqB,KAD5B,EAUHC,IAVG,CAUGvB,MAAD,IACJK,OAAO,CAACC,GAAR,CAAa,wCAAuCN,MAAM,CAACwB,UAAW,EAAtE,CAXE,EAaHC,KAbG,CAaIC,GAAD,IAASrB,OAAO,CAACsB,KAAR,CAAe,0BAAyBD,GAAI,EAA5C,CAbZ,CAAN;AAcD,GAjCD;;AAmCA,sBACE;AAEE,IAAA,SAAS,EAAElC,OAAO,CAACoC,WAFrB;AAGE,IAAA,OAAO,EAAEjB,UAAU,CAACkB,IAAX,CAAgB,IAAhB,EAAsBpB,KAAK,CAACqB,KAA5B,CAHX;AAAA,4BAKE;AAAK,MAAA,SAAS,EAAEtC,OAAO,CAACoB,KAAxB;AAAA,gBAAgCH,KAAK,CAACqB,KAAN,CAAYlB;AAA5C;AAAA;AAAA;AAAA;AAAA,YALF,eAME;AAAK,MAAA,SAAS,EAAEpB,OAAO,CAACuC,IAAxB;AAAA,gBAA+BtB,KAAK,CAACqB,KAAN,CAAYf;AAA3C;AAAA;AAAA;AAAA;AAAA,YANF;AAAA,KACON,KAAK,CAACqB,KAAN,CAAY/B,EADnB;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,CAhDD;;GAAMS,c;UACWd,U;;;KADXc,c;AAkDN,eAAeA,cAAf","sourcesContent":["import classes from \"./AddMovieButton.module.css\";\n\nimport GENRES from \"../resources/genres\";\n\nimport { useMongoDB } from \"../store/mongodb\";\n\n\nconst getGenres = (genre_ids) => {\n  let genres_array = [];\n  genre_ids.map((id) => {\n    const result = GENRES.find((genre) => genre.id === id);\n    genres_array.push(result.name);\n    return genres_array;\n  });\n\n  console.log(genres_array.toString());\n  return genres_array.toString();\n};\n\nconst AddMovieButton = (props) => {\n  const { db } = useMongoDB();\n\n  const onAddMovie = async ({\n    id,\n    title,\n    genre_ids,\n    poster_path,\n    overview,\n    vote_average,\n  }) => {\n    console.log(\n      `adding `,\n      id,\n      title,\n      genre_ids,\n      poster_path,\n      overview,\n      vote_average\n    );\n\n    const genres = getGenres(genre_ids);\n    await db\n      .collection(\"movies\").insertOne({\n        id: id,\n        title: title,\n        genres: genres,\n        posterpath: poster_path,\n        overview: overview,\n        voteaverage: Number(vote_average),\n        watched: false,\n      })\n      .then((result) =>\n        console.log(`Successfully inserted item with _id: ${result.insertedId}`)\n      )\n      .catch((err) => console.error(`Failed to insert item: ${err}`));\n  };\n\n  return (\n    <div\n      key={props.movie.id}\n      className={classes.moviebutton}\n      onClick={onAddMovie.bind(null, props.movie)}\n    >\n      <div className={classes.title}>{props.movie.title}</div>\n      <div className={classes.vote}>{props.movie.vote_average}</div>\n    </div>\n  );\n};\n\nexport default AddMovieButton;\n"]},"metadata":{},"sourceType":"module"}