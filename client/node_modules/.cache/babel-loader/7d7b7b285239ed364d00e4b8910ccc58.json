{"ast":null,"code":"var _require = require('../../lib-util'),\n    isTaggedTemplate = _require.isTaggedTemplate,\n    buildTaggedTemplate = _require.buildTaggedTemplate,\n    isObject = _require.isObject,\n    mapJoin = _require.mapJoin,\n    objectMapJoin = _require.objectMapJoin;\n\nvar buildCall = function buildCall(callbackfn) {\n  return function (ctx, args) {\n    return isTaggedTemplate(args) ? \"(\".concat(buildTaggedTemplate(ctx, args), \")\") : callbackfn(ctx, args);\n  };\n};\n\nvar buildArg = function buildArg(ctx, arg) {\n  return isObject(arg) ? buildObject(ctx, arg) : ctx.build(arg);\n};\n\nvar valuesList = mapJoin(function (ctx, arg) {\n  return ctx.build(arg);\n});\n\nvar buildProperty = function buildProperty(ctx, key, value) {\n  var name = ctx.mapKey(key);\n  if (value === null) return \"(\".concat(name, \" is null)\");\n  if (Array.isArray(value)) return \"(\".concat(name, \" in (\").concat(valuesList(ctx, value), \"))\");\n  return \"(\".concat(name, \" = \").concat(ctx.build(value), \")\");\n};\n\nvar buildObject = objectMapJoin(buildProperty, ' and ');\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg, ' and ')), ' and ');","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/node_modules/EasyQB/src/lib-sq/common/conditions.js"],"names":["require","isTaggedTemplate","buildTaggedTemplate","isObject","mapJoin","objectMapJoin","buildCall","callbackfn","ctx","args","buildArg","arg","buildObject","build","valuesList","buildProperty","key","value","name","mapKey","Array","isArray","module","exports"],"mappings":"eAMIA,OAAO,CAAC,gBAAD,C;IALTC,gB,YAAAA,gB;IACAC,mB,YAAAA,mB;IACAC,Q,YAAAA,Q;IACAC,O,YAAAA,O;IACAC,a,YAAAA,a;;AAGF,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,UAAU;AAAA,SAAI,UAACC,GAAD,EAAMC,IAAN;AAAA,WAC9BR,gBAAgB,CAACQ,IAAD,CAAhB,cACQP,mBAAmB,CAACM,GAAD,EAAMC,IAAN,CAD3B,SAEIF,UAAU,CAACC,GAAD,EAAMC,IAAN,CAHgB;AAAA,GAAJ;AAAA,CAA5B;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACF,GAAD,EAAMG,GAAN;AAAA,SACfR,QAAQ,CAACQ,GAAD,CAAR,GAAgBC,WAAW,CAACJ,GAAD,EAAMG,GAAN,CAA3B,GAAwCH,GAAG,CAACK,KAAJ,CAAUF,GAAV,CADzB;AAAA,CAAjB;;AAGA,IAAMG,UAAU,GAAGV,OAAO,CAAC,UAACI,GAAD,EAAMG,GAAN;AAAA,SAAcH,GAAG,CAACK,KAAJ,CAAUF,GAAV,CAAd;AAAA,CAAD,CAA1B;;AAEA,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACP,GAAD,EAAMQ,GAAN,EAAWC,KAAX,EAAqB;AACzC,MAAMC,IAAI,GAAGV,GAAG,CAACW,MAAJ,CAAWH,GAAX,CAAb;AACA,MAAIC,KAAK,KAAK,IAAd,EAAoB,kBAAWC,IAAX;AACpB,MAAIE,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAJ,EAA0B,kBAAWC,IAAX,kBAAuBJ,UAAU,CAACN,GAAD,EAAMS,KAAN,CAAjC;AAC1B,oBAAWC,IAAX,gBAAqBV,GAAG,CAACK,KAAJ,CAAUI,KAAV,CAArB;AACD,CALD;;AAOA,IAAML,WAAW,GAAGP,aAAa,CAACU,aAAD,EAAgB,OAAhB,CAAjC;AACAO,MAAM,CAACC,OAAP,GAAiBnB,OAAO,CAACE,SAAS,CAACF,OAAO,CAACM,QAAD,EAAW,OAAX,CAAR,CAAV,EAAwC,OAAxC,CAAxB","sourcesContent":["const {\n  isTaggedTemplate,\n  buildTaggedTemplate,\n  isObject,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\n\nconst buildCall = callbackfn => (ctx, args) =>\n  isTaggedTemplate(args)\n    ? `(${buildTaggedTemplate(ctx, args)})`\n    : callbackfn(ctx, args)\n\nconst buildArg = (ctx, arg) =>\n  isObject(arg) ? buildObject(ctx, arg) : ctx.build(arg)\n\nconst valuesList = mapJoin((ctx, arg) => ctx.build(arg))\n\nconst buildProperty = (ctx, key, value) => {\n  const name = ctx.mapKey(key)\n  if (value === null) return `(${name} is null)`\n  if (Array.isArray(value)) return `(${name} in (${valuesList(ctx, value)}))`\n  return `(${name} = ${ctx.build(value)})`\n}\n\nconst buildObject = objectMapJoin(buildProperty, ' and ')\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg, ' and ')), ' and ')\n"]},"metadata":{},"sourceType":"script"}