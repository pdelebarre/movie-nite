{"ast":null,"code":"var _jsxFileName = \"/Volumes/LaCie/Dev/myProjects/movie-nite/src/UI/AddMovieButton.js\",\n    _s2 = $RefreshSig$();\n\nimport { useEasybase } from \"easybase-react\"; //import ebconfig from \"../ebconfig\";\n\nimport classes from \"./AddMovieButton.module.css\";\nimport GENRES from \"../resources/genres\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getGenres = genre_ids => {\n  let genres_array = [];\n  genre_ids.map(id => {\n    const result = GENRES.find(genre => genre.id === id);\n    genres_array.push(result.name);\n    return genres_array;\n  });\n  console.log(genres_array.toString());\n  return genres_array.toString();\n};\n\nconst AddMovieButton = props => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const {\n    db,\n    e,\n    useReturn\n  } = useEasybase();\n\n  const movieExists = id => {\n    _s();\n\n    console.log('check is movie exists :>> ', id); // try {\n\n    const {\n      frame\n    } = useReturn(() => db('MOVIES').return().where(e.eq(\"id\", id)), []);\n    console.log(`frame`, frame);\n    return frame !== null;\n  };\n\n  _s(movieExists, \"9bTR7gjPrOmI2r2/exKB4OFlscU=\", false, function () {\n    return [useReturn];\n  });\n\n  const onAddMovie = ({\n    id,\n    title,\n    genre_ids,\n    poster_path,\n    overview,\n    vote_average\n  }) => {\n    // if(movieExists(movie.id)) return;\n    let genres = getGenres(genre_ids);\n    db(\"MOVIES\").insert({\n      title: title,\n      genres: genres,\n      posterpath: poster_path,\n      watched: false,\n      overview: overview,\n      voteaverage: Number(vote_average),\n      id: id\n    }).one();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.moviebutton,\n    onClick: onAddMovie.bind(null, props.movie),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.title,\n      children: props.movie.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.vote,\n      children: props.movie.vote_average\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, props.movie.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(AddMovieButton, \"ZIRAp3KSuUDb0KXu/4X9iOI3qUo=\", false, function () {\n  return [useEasybase];\n});\n\n_c = AddMovieButton;\nexport default AddMovieButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMovieButton\");","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/UI/AddMovieButton.js"],"names":["useEasybase","classes","GENRES","getGenres","genre_ids","genres_array","map","id","result","find","genre","push","name","console","log","toString","AddMovieButton","props","db","e","useReturn","movieExists","frame","return","where","eq","onAddMovie","title","poster_path","overview","vote_average","genres","insert","posterpath","watched","voteaverage","Number","one","moviebutton","bind","movie","vote"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,gBAA5B,C,CACA;;AACA,OAAOC,OAAP,MAAoB,6BAApB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;;;AAEA,MAAMC,SAAS,GAAIC,SAAD,IAAe;AAC/B,MAAIC,YAAY,GAAG,EAAnB;AACAD,EAAAA,SAAS,CAACE,GAAV,CAAeC,EAAD,IAAQ;AACpB,UAAMC,MAAM,GAAGN,MAAM,CAACO,IAAP,CAAaC,KAAD,IAAWA,KAAK,CAACH,EAAN,KAAaA,EAApC,CAAf;AACAF,IAAAA,YAAY,CAACM,IAAb,CAAkBH,MAAM,CAACI,IAAzB;AACA,WAAOP,YAAP;AACD,GAJD;AAMAQ,EAAAA,OAAO,CAACC,GAAR,CAAYT,YAAY,CAACU,QAAb,EAAZ;AACA,SAAOV,YAAY,CAACU,QAAb,EAAP;AACD,CAVD;;AAYA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAAA;;AAAA;;AAChC,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,CAAN;AAASC,IAAAA;AAAT,MAAuBpB,WAAW,EAAxC;;AAEA,QAAMqB,WAAW,GAAKd,EAAD,IAAQ;AAAA;;AAE3BM,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CP,EAA1C,EAF2B,CAG3B;;AACE,UAAM;AAAEe,MAAAA;AAAF,QAAYF,SAAS,CAAC,MAAMF,EAAE,CAAC,QAAD,CAAF,CAAaK,MAAb,GAAsBC,KAAtB,CAA4BL,CAAC,CAACM,EAAF,CAAK,IAAL,EAAUlB,EAAV,CAA5B,CAAP,EAAmD,EAAnD,CAA3B;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAa,OAAb,EAAqBQ,KAArB;AACA,WAAOA,KAAK,KAAK,IAAjB;AAEH,GARD;;AAHgC,KAG1BD,WAH0B;AAAA,YAOVD,SAPU;AAAA;;AAahC,QAAMM,UAAU,GAAG,CAAC;AAACnB,IAAAA,EAAD;AAAIoB,IAAAA,KAAJ;AAAUvB,IAAAA,SAAV;AAAoBwB,IAAAA,WAApB;AAAgCC,IAAAA,QAAhC;AAAyCC,IAAAA;AAAzC,GAAD,KAA4D;AAC7E;AAEA,QAAIC,MAAM,GAAG5B,SAAS,CAACC,SAAD,CAAtB;AACAc,IAAAA,EAAE,CAAC,QAAD,CAAF,CACGc,MADH,CACU;AACNL,MAAAA,KAAK,EAAEA,KADD;AAENI,MAAAA,MAAM,EAAEA,MAFF;AAGNE,MAAAA,UAAU,EAAEL,WAHN;AAINM,MAAAA,OAAO,EAAE,KAJH;AAKNL,MAAAA,QAAQ,EAAEA,QALJ;AAMNM,MAAAA,WAAW,EAAEC,MAAM,CAACN,YAAD,CANb;AAONvB,MAAAA,EAAE,EAAEA;AAPE,KADV,EAUG8B,GAVH;AAWD,GAfD;;AAiBA,sBACE;AAEE,IAAA,SAAS,EAAEpC,OAAO,CAACqC,WAFrB;AAGE,IAAA,OAAO,EAAEZ,UAAU,CAACa,IAAX,CAAgB,IAAhB,EAAsBtB,KAAK,CAACuB,KAA5B,CAHX;AAAA,4BAKE;AAAK,MAAA,SAAS,EAAEvC,OAAO,CAAC0B,KAAxB;AAAA,gBAAgCV,KAAK,CAACuB,KAAN,CAAYb;AAA5C;AAAA;AAAA;AAAA;AAAA,YALF,eAME;AAAK,MAAA,SAAS,EAAE1B,OAAO,CAACwC,IAAxB;AAAA,gBAA+BxB,KAAK,CAACuB,KAAN,CAAYV;AAA3C;AAAA;AAAA;AAAA;AAAA,YANF;AAAA,KACOb,KAAK,CAACuB,KAAN,CAAYjC,EADnB;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,CAxCD;;IAAMS,c;UACyBhB,W;;;KADzBgB,c;AA0CN,eAAeA,cAAf","sourcesContent":["import { useEasybase } from \"easybase-react\";\n//import ebconfig from \"../ebconfig\";\nimport classes from \"./AddMovieButton.module.css\";\n\nimport GENRES from \"../resources/genres\";\n\nconst getGenres = (genre_ids) => {\n  let genres_array = [];\n  genre_ids.map((id) => {\n    const result = GENRES.find((genre) => genre.id === id);\n    genres_array.push(result.name);\n    return genres_array;\n  });\n\n  console.log(genres_array.toString());\n  return genres_array.toString();\n};\n\nconst AddMovieButton = (props) => {\n  const { db, e, useReturn } = useEasybase();\n\n  const movieExists =  (id) => {\n    \n    console.log('check is movie exists :>> ', id);\n    // try {\n      const { frame } = useReturn(() => db('MOVIES').return().where(e.eq(\"id\",id)), []);\n      console.log(`frame`, frame);\n      return frame !== null;\n\n  };\n\n  const onAddMovie = ({id,title,genre_ids,poster_path,overview,vote_average}) => {\n    // if(movieExists(movie.id)) return;\n\n    let genres = getGenres(genre_ids);\n    db(\"MOVIES\")\n      .insert({\n        title: title,\n        genres: genres,\n        posterpath: poster_path,\n        watched: false,\n        overview: overview,\n        voteaverage: Number(vote_average),\n        id: id,\n      })\n      .one();\n  };\n\n  return (\n    <div\n      key={props.movie.id}\n      className={classes.moviebutton}\n      onClick={onAddMovie.bind(null, props.movie)}\n    >\n      <div className={classes.title}>{props.movie.title}</div>\n      <div className={classes.vote}>{props.movie.vote_average}</div>\n    </div>\n  );\n};\n\nexport default AddMovieButton;\n"]},"metadata":{},"sourceType":"module"}