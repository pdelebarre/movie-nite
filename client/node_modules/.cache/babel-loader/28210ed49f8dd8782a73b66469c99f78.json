{"ast":null,"code":"/** Returns a function the creates a new context */\nvar createNewContext = function createNewContext(defaultContext) {\n  var parameterize = defaultContext.parameterize,\n      escape = defaultContext.escape,\n      mapKey = defaultContext.mapKey,\n      build = defaultContext.build;\n  return function () {\n    var inherit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _inherit$params = inherit.params,\n        params = _inherit$params === void 0 ? [] : _inherit$params,\n        _inherit$unparameteri = inherit.unparameterized,\n        unparameterized = _inherit$unparameteri === void 0 ? false : _inherit$unparameteri;\n    var whr = [];\n    return {\n      // properties set by the EasyQB instance\n      parameterize: parameterize,\n      escape: escape,\n      mapKey: mapKey,\n      build: build,\n      // properties inherited from the parent query\n      params: params,\n      unparameterized: unparameterized,\n      // properties of the current query\n      type: 'select',\n      // | sql' | 'select' | 'delete' | 'insert' | 'update'\n      target: whr,\n      join: undefined,\n      separator: ' ',\n      sql: [],\n      ret: [],\n      frm: [],\n      whr: whr,\n      grp: [],\n      hav: [],\n      setop: [],\n      ord: [],\n      with: [],\n      set: [] // properties that may be added dynamically:\n      // userType\n      // distinct\n\n    };\n  };\n};\n\nmodule.exports = createNewContext;","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/node_modules/EasyQB/src/builder-sq/context.js"],"names":["createNewContext","defaultContext","parameterize","escape","mapKey","build","inherit","params","unparameterized","whr","type","target","join","undefined","separator","sql","ret","frm","grp","hav","setop","ord","with","set","module","exports"],"mappings":"AAAA;AACA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,cAAc,EAAI;AAAA,MAC/BC,YAD+B,GACSD,cADT,CAC/BC,YAD+B;AAAA,MACjBC,MADiB,GACSF,cADT,CACjBE,MADiB;AAAA,MACTC,MADS,GACSH,cADT,CACTG,MADS;AAAA,MACDC,KADC,GACSJ,cADT,CACDI,KADC;AAGvC,SAAO,YAAkB;AAAA,QAAjBC,OAAiB,uEAAP,EAAO;AAAA,0BAC4BA,OAD5B,CACbC,MADa;AAAA,QACbA,MADa,gCACJ,EADI;AAAA,gCAC4BD,OAD5B,CACAE,eADA;AAAA,QACAA,eADA,sCACkB,KADlB;AAGrB,QAAMC,GAAG,GAAG,EAAZ;AACA,WAAO;AACH;AACAP,MAAAA,YAAY,EAAZA,YAFG;AAGHC,MAAAA,MAAM,EAANA,MAHG;AAIHC,MAAAA,MAAM,EAANA,MAJG;AAKHC,MAAAA,KAAK,EAALA,KALG;AAOH;AACAE,MAAAA,MAAM,EAANA,MARG;AASHC,MAAAA,eAAe,EAAfA,eATG;AAWH;AACAE,MAAAA,IAAI,EAAE,QAZH;AAaH;AACAC,MAAAA,MAAM,EAAEF,GAdL;AAeHG,MAAAA,IAAI,EAAEC,SAfH;AAgBHC,MAAAA,SAAS,EAAE,GAhBR;AAiBHC,MAAAA,GAAG,EAAE,EAjBF;AAkBHC,MAAAA,GAAG,EAAE,EAlBF;AAmBHC,MAAAA,GAAG,EAAE,EAnBF;AAoBHR,MAAAA,GAAG,EAAHA,GApBG;AAqBHS,MAAAA,GAAG,EAAE,EArBF;AAsBHC,MAAAA,GAAG,EAAE,EAtBF;AAuBHC,MAAAA,KAAK,EAAE,EAvBJ;AAwBHC,MAAAA,GAAG,EAAE,EAxBF;AAyBHC,MAAAA,IAAI,EAAE,EAzBH;AA0BHC,MAAAA,GAAG,EAAE,EA1BF,CA4BH;AACA;AACA;;AA9BG,KAAP;AAgCH,GApCD;AAqCH,CAxCD;;AA0CAC,MAAM,CAACC,OAAP,GAAiBzB,gBAAjB","sourcesContent":["/** Returns a function the creates a new context */\nconst createNewContext = defaultContext => {\n    const { parameterize, escape, mapKey, build } = defaultContext\n\n    return (inherit = {}) => {\n        const { params = [], unparameterized = false } = inherit\n\n        const whr = []\n        return {\n            // properties set by the EasyQB instance\n            parameterize,\n            escape,\n            mapKey,\n            build,\n\n            // properties inherited from the parent query\n            params,\n            unparameterized,\n\n            // properties of the current query\n            type: 'select',\n            // | sql' | 'select' | 'delete' | 'insert' | 'update'\n            target: whr,\n            join: undefined,\n            separator: ' ',\n            sql: [],\n            ret: [],\n            frm: [],\n            whr,\n            grp: [],\n            hav: [],\n            setop: [],\n            ord: [],\n            with: [],\n            set: []\n\n            // properties that may be added dynamically:\n            // userType\n            // distinct\n        }\n    }\n}\n\nmodule.exports = createNewContext\n"]},"metadata":{},"sourceType":"script"}