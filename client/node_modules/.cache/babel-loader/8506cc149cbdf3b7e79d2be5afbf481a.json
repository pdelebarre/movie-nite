{"ast":null,"code":"var _jsxFileName = \"/Volumes/LaCie/Dev/myProjects/movie-nite/src/tests/TestMongo.js\",\n    _s = $RefreshSig$();\n\nimport { useMongoDB } from \"../store/mongodb\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TestMongo = props => {\n  _s();\n\n  const {\n    db\n  } = useMongoDB();\n\n  const addMovie = async movie => {\n    console.log(`adding `, movie.title); //const genres = getGenres(movie.genre_ids);\n\n    await db.collection(\"movies\").insertOne({\n      id: movie.id,\n      title: movie.title,\n      genres: \"comedie\",\n      posterpath: movie.poster_path,\n      overview: movie.overview,\n      voteaverage: Number(movie.vote_average),\n      watched: false\n    }).then(result => console.log(`Successfully inserted item with _id: ${result.insertedId}`)).catch(err => console.error(`Failed to insert item: ${err}`));\n  };\n\n  const onClickHandler = () => {\n    addMovie({\n      id: Math.random(),\n      title: \"title truc\",\n      poster_path: \"poster\",\n      overview: \"dfkjdfkgjhfkghdfgk\",\n      vote_average: 6.1\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: onClickHandler,\n    children: \"Add movies\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 14\n  }, this);\n};\n\n_s(TestMongo, \"sRqBXEybUPiyTOI1HughLpp2/+I=\", false, function () {\n  return [useMongoDB];\n});\n\n_c = TestMongo;\nexport default TestMongo;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestMongo\");","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/tests/TestMongo.js"],"names":["useMongoDB","TestMongo","props","db","addMovie","movie","console","log","title","collection","insertOne","id","genres","posterpath","poster_path","overview","voteaverage","Number","vote_average","watched","then","result","insertedId","catch","err","error","onClickHandler","Math","random"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,kBAA3B;;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA;;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAASH,UAAU,EAAzB;;AAEA,QAAMI,QAAQ,GAAG,MAAOC,KAAP,IAAkB;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAa,SAAb,EAAuBF,KAAK,CAACG,KAA7B,EAD+B,CAG/B;;AACA,UAAML,EAAE,CACLM,UADG,CACQ,QADR,EAEHC,SAFG,CAEO;AACTC,MAAAA,EAAE,EAAEN,KAAK,CAACM,EADD;AAETH,MAAAA,KAAK,EAAEH,KAAK,CAACG,KAFJ;AAGTI,MAAAA,MAAM,EAAE,SAHC;AAITC,MAAAA,UAAU,EAAER,KAAK,CAACS,WAJT;AAKTC,MAAAA,QAAQ,EAAEV,KAAK,CAACU,QALP;AAMTC,MAAAA,WAAW,EAAEC,MAAM,CAACZ,KAAK,CAACa,YAAP,CANV;AAOTC,MAAAA,OAAO,EAAE;AAPA,KAFP,EAWHC,IAXG,CAWGC,MAAD,IACJf,OAAO,CAACC,GAAR,CAAa,wCAAuCc,MAAM,CAACC,UAAW,EAAtE,CAZE,EAcHC,KAdG,CAcIC,GAAD,IAASlB,OAAO,CAACmB,KAAR,CAAe,0BAAyBD,GAAI,EAA5C,CAdZ,CAAN;AAeD,GAnBH;;AAqBE,QAAME,cAAc,GAAG,MAAM;AAC3BtB,IAAAA,QAAQ,CAAC;AAACO,MAAAA,EAAE,EAACgB,IAAI,CAACC,MAAL,EAAJ;AAAkBpB,MAAAA,KAAK,EAAC,YAAxB;AAAqCM,MAAAA,WAAW,EAAC,QAAjD;AAA0DC,MAAAA,QAAQ,EAAC,oBAAnE;AAAwFG,MAAAA,YAAY,EAAC;AAArG,KAAD,CAAR;AACD,GAFD;;AAIA,sBAAO;AAAQ,IAAA,OAAO,EAAIQ,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACL,CA7BD;;GAAMzB,S;UACaD,U;;;KADbC,S;AA+BN,eAAeA,SAAf","sourcesContent":["import { useMongoDB } from \"../store/mongodb\";\n\nconst TestMongo = (props) => {\n    const { db } = useMongoDB();\n\n    const addMovie = async (movie ) => {\n        console.log(`adding `, movie.title);\n    \n        //const genres = getGenres(movie.genre_ids);\n        await db\n          .collection(\"movies\")\n          .insertOne({\n            id: movie.id,\n            title: movie.title,\n            genres: \"comedie\",\n            posterpath: movie.poster_path,\n            overview: movie.overview,\n            voteaverage: Number(movie.vote_average),\n            watched: false,\n          })\n          .then((result) =>\n            console.log(`Successfully inserted item with _id: ${result.insertedId}`)\n          )\n          .catch((err) => console.error(`Failed to insert item: ${err}`));\n      };\n\n      const onClickHandler = () => {\n        addMovie({id:Math.random(),title:\"title truc\",poster_path:\"poster\",overview:\"dfkjdfkgjhfkghdfgk\",vote_average:6.1});\n      }\n\n      return(<button onClick = {onClickHandler}>Add movies</button>);\n}\n\nexport default TestMongo;"]},"metadata":{},"sourceType":"module"}