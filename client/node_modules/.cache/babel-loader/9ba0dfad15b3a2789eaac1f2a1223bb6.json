{"ast":null,"code":"var _jsxFileName = \"/Volumes/LaCie/Dev/myProjects/movie-nite/src/store/realm.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as RealmWeb from \"realm-web\";\nimport React, { useContext, useState } from \"react\";\nimport { REALM_APP_ID, MONGODB_API_KEY } from \"../store/keys\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RealmAppContext = /*#__PURE__*/React.createContext(null);\n\nconst RealmApp = ({\n  children\n}) => {\n  _s();\n\n  const app = new RealmWeb.App({\n    id: REALM_APP_ID\n  });\n  const [user, setUser] = useState(null);\n\n  const loginApiKey = async () => {\n    const credentials = RealmWeb.Credentials.apiKey(MONGODB_API_KEY);\n\n    try {\n      await app.logIn(credentials);\n      setUser(app.currentUser);\n      return app.currentUser;\n    } catch (e) {\n      setUser(null);\n      return null;\n    }\n  };\n\n  const logOut = () => {\n    if (user !== null) {\n      app.currentUser.logOut();\n      setUser(null);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(RealmAppContext.Provider, {\n    value: {\n      loginApiKey,\n      logOut,\n      user\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RealmApp, \"Iei9RGtZU29Y1RhBe1sbfh/MntA=\");\n\n_c = RealmApp;\nexport const useRealmApp = () => {\n  _s2();\n\n  const realmContext = useContext(RealmAppContext);\n\n  if (realmContext == null) {\n    throw new Error(\"useRealmApp() called outside of a RealmApp?\");\n  }\n\n  return realmContext;\n};\n\n_s2(useRealmApp, \"9rITAoR7OQ/eW7sw5VDffrSA7zY=\");\n\nexport default RealmApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"RealmApp\");","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/store/realm.js"],"names":["RealmWeb","React","useContext","useState","REALM_APP_ID","MONGODB_API_KEY","RealmAppContext","createContext","RealmApp","children","app","App","id","user","setUser","loginApiKey","credentials","Credentials","apiKey","logIn","currentUser","e","logOut","useRealmApp","realmContext","Error"],"mappings":";;;;AAAA,OAAO,KAAKA,QAAZ,MAA0B,WAA1B;AAEA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,eAA9C;;AAEA,MAAMC,eAAe,gBAAGL,KAAK,CAACM,aAAN,CAAoB,IAApB,CAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAG/B,QAAMC,GAAG,GAAG,IAAIV,QAAQ,CAACW,GAAb,CAAiB;AAAEC,IAAAA,EAAE,EAAER;AAAN,GAAjB,CAAZ;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,IAAD,CAAhC;;AAEA,QAAMY,WAAW,GAAG,YAAY;AAC5B,UAAMC,WAAW,GAAGhB,QAAQ,CAACiB,WAAT,CAAqBC,MAArB,CAA4Bb,eAA5B,CAApB;;AACA,QAAI;AACA,YAAMK,GAAG,CAACS,KAAJ,CAAUH,WAAV,CAAN;AACAF,MAAAA,OAAO,CAACJ,GAAG,CAACU,WAAL,CAAP;AACA,aAAOV,GAAG,CAACU,WAAX;AACH,KAJD,CAIE,OAAOC,CAAP,EAAU;AACRP,MAAAA,OAAO,CAAC,IAAD,CAAP;AACA,aAAO,IAAP;AACH;AACJ,GAVD;;AAYA,QAAMQ,MAAM,GAAG,MAAM;AACjB,QAAIT,IAAI,KAAK,IAAb,EAAmB;AACfH,MAAAA,GAAG,CAACU,WAAJ,CAAgBE,MAAhB;AACAR,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH;AACJ,GALD;;AAOA,sBACI,QAAC,eAAD,CAAiB,QAAjB;AACI,IAAA,KAAK,EAAE;AACHC,MAAAA,WADG;AAEHO,MAAAA,MAFG;AAGHT,MAAAA;AAHG,KADX;AAAA,cAOKJ;AAPL;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CApCD;;GAAMD,Q;;KAAAA,Q;AAsCN,OAAO,MAAMe,WAAW,GAAG,MAAM;AAAA;;AAC7B,QAAMC,YAAY,GAAGtB,UAAU,CAACI,eAAD,CAA/B;;AACA,MAAIkB,YAAY,IAAI,IAApB,EAA0B;AACtB,UAAM,IAAIC,KAAJ,CAAU,6CAAV,CAAN;AACH;;AACD,SAAOD,YAAP;AACH,CANM;;IAAMD,W;;AAQb,eAAef,QAAf","sourcesContent":["import * as RealmWeb from \"realm-web\"\n\nimport React, { useContext, useState } from \"react\"\n\nimport { REALM_APP_ID, MONGODB_API_KEY } from \"../store/keys\";\n\nconst RealmAppContext = React.createContext(null)\n\nconst RealmApp = ({ children }) => {\n \n    \n    const app = new RealmWeb.App({ id: REALM_APP_ID })\n    const [user, setUser] = useState(null)\n\n    const loginApiKey = async () => {\n        const credentials = RealmWeb.Credentials.apiKey(MONGODB_API_KEY)\n        try {\n            await app.logIn(credentials)\n            setUser(app.currentUser)\n            return app.currentUser\n        } catch (e) {\n            setUser(null)\n            return null\n        }\n    }\n\n    const logOut = () => {\n        if (user !== null) {\n            app.currentUser.logOut()\n            setUser(null)\n        }\n    }\n\n    return (\n        <RealmAppContext.Provider\n            value={{\n                loginApiKey,\n                logOut,\n                user,\n            }}\n        >\n            {children}\n        </RealmAppContext.Provider>\n    )\n}\n\nexport const useRealmApp = () => {\n    const realmContext = useContext(RealmAppContext)\n    if (realmContext == null) {\n        throw new Error(\"useRealmApp() called outside of a RealmApp?\")\n    }\n    return realmContext\n}\n\nexport default RealmApp"]},"metadata":{},"sourceType":"module"}