{"ast":null,"code":"const {\n  isTaggedTemplate,\n  buildTaggedTemplate,\n  isObject,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util');\n\nconst buildCall = callbackfn => (ctx, args) => isTaggedTemplate(args) ? `(${buildTaggedTemplate(ctx, args)})` : callbackfn(ctx, args);\n\nconst buildArg = (ctx, arg) => isObject(arg) ? buildObject(ctx, arg) : ctx.build(arg);\n\nconst valuesList = mapJoin((ctx, arg) => ctx.build(arg));\n\nconst buildProperty = (ctx, key, value) => {\n  const name = ctx.mapKey(key);\n  if (value === null) return `(${name} is null)`;\n  if (Array.isArray(value)) return `(${name} in (${valuesList(ctx, value)}))`;\n  return `(${name} = ${ctx.build(value)})`;\n};\n\nconst buildObject = objectMapJoin(buildProperty, ' and ');\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg, ' and ')), ' and ');","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/node_modules/EasyQB/src/lib-sq/common/conditions.js"],"names":["isTaggedTemplate","buildTaggedTemplate","isObject","mapJoin","objectMapJoin","require","buildCall","callbackfn","ctx","args","buildArg","arg","buildObject","build","valuesList","buildProperty","key","value","name","mapKey","Array","isArray","module","exports"],"mappings":"AAAA,MAAM;AACJA,EAAAA,gBADI;AAEJC,EAAAA,mBAFI;AAGJC,EAAAA,QAHI;AAIJC,EAAAA,OAJI;AAKJC,EAAAA;AALI,IAMFC,OAAO,CAAC,gBAAD,CANX;;AAQA,MAAMC,SAAS,GAAGC,UAAU,IAAI,CAACC,GAAD,EAAMC,IAAN,KAC9BT,gBAAgB,CAACS,IAAD,CAAhB,GACK,IAAGR,mBAAmB,CAACO,GAAD,EAAMC,IAAN,CAAY,GADvC,GAEIF,UAAU,CAACC,GAAD,EAAMC,IAAN,CAHhB;;AAKA,MAAMC,QAAQ,GAAG,CAACF,GAAD,EAAMG,GAAN,KACfT,QAAQ,CAACS,GAAD,CAAR,GAAgBC,WAAW,CAACJ,GAAD,EAAMG,GAAN,CAA3B,GAAwCH,GAAG,CAACK,KAAJ,CAAUF,GAAV,CAD1C;;AAGA,MAAMG,UAAU,GAAGX,OAAO,CAAC,CAACK,GAAD,EAAMG,GAAN,KAAcH,GAAG,CAACK,KAAJ,CAAUF,GAAV,CAAf,CAA1B;;AAEA,MAAMI,aAAa,GAAG,CAACP,GAAD,EAAMQ,GAAN,EAAWC,KAAX,KAAqB;AACzC,QAAMC,IAAI,GAAGV,GAAG,CAACW,MAAJ,CAAWH,GAAX,CAAb;AACA,MAAIC,KAAK,KAAK,IAAd,EAAoB,OAAQ,IAAGC,IAAK,WAAhB;AACpB,MAAIE,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAJ,EAA0B,OAAQ,IAAGC,IAAK,QAAOJ,UAAU,CAACN,GAAD,EAAMS,KAAN,CAAa,IAA9C;AAC1B,SAAQ,IAAGC,IAAK,MAAKV,GAAG,CAACK,KAAJ,CAAUI,KAAV,CAAiB,GAAtC;AACD,CALD;;AAOA,MAAML,WAAW,GAAGR,aAAa,CAACW,aAAD,EAAgB,OAAhB,CAAjC;AACAO,MAAM,CAACC,OAAP,GAAiBpB,OAAO,CAACG,SAAS,CAACH,OAAO,CAACO,QAAD,EAAW,OAAX,CAAR,CAAV,EAAwC,OAAxC,CAAxB","sourcesContent":["const {\n  isTaggedTemplate,\n  buildTaggedTemplate,\n  isObject,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\n\nconst buildCall = callbackfn => (ctx, args) =>\n  isTaggedTemplate(args)\n    ? `(${buildTaggedTemplate(ctx, args)})`\n    : callbackfn(ctx, args)\n\nconst buildArg = (ctx, arg) =>\n  isObject(arg) ? buildObject(ctx, arg) : ctx.build(arg)\n\nconst valuesList = mapJoin((ctx, arg) => ctx.build(arg))\n\nconst buildProperty = (ctx, key, value) => {\n  const name = ctx.mapKey(key)\n  if (value === null) return `(${name} is null)`\n  if (Array.isArray(value)) return `(${name} in (${valuesList(ctx, value)}))`\n  return `(${name} = ${ctx.build(value)})`\n}\n\nconst buildObject = objectMapJoin(buildProperty, ' and ')\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg, ' and ')), ' and ')\n"]},"metadata":{},"sourceType":"script"}