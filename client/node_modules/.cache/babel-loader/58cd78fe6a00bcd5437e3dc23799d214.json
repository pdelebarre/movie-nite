{"ast":null,"code":"import _slicedToArray from\"/Volumes/LaCie/Dev/myProjects/movie-nite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{useRealmApp}from\"./realm\";import{jsx as _jsx}from\"react/jsx-runtime\";var MongoDBContext=/*#__PURE__*/React.createContext(null);var MongoDB=function MongoDB(_ref){var children=_ref.children;var _useRealmApp=useRealmApp(),user=_useRealmApp.user;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),db=_useState2[0],setDb=_useState2[1];useEffect(function(){if(user!==null){var realmService=user.mongoClient(\"mongodb-atlas\");setDb(realmService.db(\"movie_nite\"));}},[user]);return/*#__PURE__*/_jsx(MongoDBContext.Provider,{value:{db:db},children:children});};export var useMongoDB=function useMongoDB(){var mdbContext=useContext(MongoDBContext);if(mdbContext==null){throw new Error(\"useMongoDB() called outside of a MongoDB?\");}return mdbContext;};export default MongoDB;","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/store/mongodb.js"],"names":["React","useContext","useEffect","useState","useRealmApp","MongoDBContext","createContext","MongoDB","children","user","db","setDb","realmService","mongoClient","useMongoDB","mdbContext","Error"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CAEA,OAASC,WAAT,KAA4B,SAA5B,C,2CAEA,GAAMC,CAAAA,cAAc,cAAGL,KAAK,CAACM,aAAN,CAAoB,IAApB,CAAvB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAChC,iBAAiBJ,WAAW,EAA5B,CAAQK,IAAR,cAAQA,IAAR,CACA,cAAoBN,QAAQ,CAAC,IAAD,CAA5B,wCAAOO,EAAP,eAAWC,KAAX,eAEAT,SAAS,CAAC,UAAM,CACd,GAAIO,IAAI,GAAK,IAAb,CAAmB,CACjB,GAAMG,CAAAA,YAAY,CAAGH,IAAI,CAACI,WAAL,CAAiB,eAAjB,CAArB,CACAF,KAAK,CAACC,YAAY,CAACF,EAAb,CAAgB,YAAhB,CAAD,CAAL,CACD,CACF,CALQ,CAKN,CAACD,IAAD,CALM,CAAT,CAOA,mBACE,KAAC,cAAD,CAAgB,QAAhB,EACE,KAAK,CAAE,CACLC,EAAE,CAAFA,EADK,CADT,UAKGF,QALH,EADF,CASD,CApBD,CAsBA,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC9B,GAAMC,CAAAA,UAAU,CAAGd,UAAU,CAACI,cAAD,CAA7B,CACA,GAAIU,UAAU,EAAI,IAAlB,CAAwB,CACtB,KAAM,IAAIC,CAAAA,KAAJ,CAAU,2CAAV,CAAN,CACD,CACD,MAAOD,CAAAA,UAAP,CACD,CANM,CAQP,cAAeR,CAAAA,OAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\n\nimport { useRealmApp } from \"./realm\";\n\nconst MongoDBContext = React.createContext(null);\n\nconst MongoDB = ({ children }) => {\n  const { user } = useRealmApp();\n  const [db, setDb] = useState(null);\n\n  useEffect(() => {\n    if (user !== null) {\n      const realmService = user.mongoClient(\"mongodb-atlas\");\n      setDb(realmService.db(\"movie_nite\"));\n    }\n  }, [user]);\n\n  return (\n    <MongoDBContext.Provider\n      value={{\n        db,\n      }}\n    >\n      {children}\n    </MongoDBContext.Provider>\n  );\n};\n\nexport const useMongoDB = () => {\n  const mdbContext = useContext(MongoDBContext);\n  if (mdbContext == null) {\n    throw new Error(\"useMongoDB() called outside of a MongoDB?\");\n  }\n  return mdbContext;\n};\n\nexport default MongoDB;\n"]},"metadata":{},"sourceType":"module"}