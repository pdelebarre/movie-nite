{"ast":null,"code":"var _jsxFileName = \"/Volumes/LaCie/Dev/myProjects/movie-nite/src/components/Search/AddMovieButton.js\",\n    _s = $RefreshSig$();\n\nimport { useEasybase, EasybaseProvider, callFunction } from \"easybase-react\";\nimport ebconfig from \"../../ebconfig\";\nimport GENRES from \"../resources/genres\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getGenres = genre_ids => {\n  let genres_array = [];\n  genre_ids.map(id => {\n    const result = GENRES.find(genre => genre.id === id); // console.log(\"genre\",result);\n\n    genres_array.push(result.name);\n    return genres_array;\n  });\n  console.log(genres_array.toString());\n  return genres_array.toString();\n};\n\nconst AddMovieButton = () => {\n  _s();\n\n  const {\n    db\n  } = useEasybase();\n\n  const onAddMovie = (id, title, genre_ids, poster_path, watched, overview, vote_average) => {\n    let genres = getGenres(genre_ids);\n    db(\"MOVIES\").insert({\n      title: title,\n      genres: genres,\n      posterpath: poster_path,\n      watched: false,\n      overview: overview,\n      voteaverage: Number(vote_average),\n      id: id\n    }).one(); // ^ Automatically refreshes useReturn hook in 'Home' component\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    className: \"{classes.tr}\",\n    onClick: onAddMovie.bind(null, props.movie),\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.movie.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      className: \"{classes.vote}\",\n      children: props.movie.vote_average\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, props.movie.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddMovieButton, \"xAnOoOawE3va54w6RhdUu0KBqkQ=\", false, function () {\n  return [useEasybase];\n});\n\n_c = AddMovieButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMovieButton\");","map":{"version":3,"sources":["/Volumes/LaCie/Dev/myProjects/movie-nite/src/components/Search/AddMovieButton.js"],"names":["useEasybase","EasybaseProvider","callFunction","ebconfig","GENRES","getGenres","genre_ids","genres_array","map","id","result","find","genre","push","name","console","log","toString","AddMovieButton","db","onAddMovie","title","poster_path","watched","overview","vote_average","genres","insert","posterpath","voteaverage","Number","one","bind","props","movie"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,gBAAtB,EAAwCC,YAAxC,QAA4D,gBAA5D;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;;;AAEA,MAAMC,SAAS,GAAIC,SAAD,IAAe;AAC/B,MAAIC,YAAY,GAAG,EAAnB;AACAD,EAAAA,SAAS,CAACE,GAAV,CAAeC,EAAD,IAAQ;AACpB,UAAMC,MAAM,GAAGN,MAAM,CAACO,IAAP,CAAaC,KAAD,IAAWA,KAAK,CAACH,EAAN,KAAaA,EAApC,CAAf,CADoB,CAEpB;;AACAF,IAAAA,YAAY,CAACM,IAAb,CAAkBH,MAAM,CAACI,IAAzB;AACA,WAAOP,YAAP;AACD,GALD;AAOAQ,EAAAA,OAAO,CAACC,GAAR,CAAYT,YAAY,CAACU,QAAb,EAAZ;AACA,SAAOV,YAAY,CAACU,QAAb,EAAP;AACD,CAXD;;AAaA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAASnB,WAAW,EAA1B;;AAEA,QAAMoB,UAAU,GAAG,CACjBX,EADiB,EAEjBY,KAFiB,EAGjBf,SAHiB,EAIjBgB,WAJiB,EAKjBC,OALiB,EAMjBC,QANiB,EAOjBC,YAPiB,KAQd;AACH,QAAIC,MAAM,GAAGrB,SAAS,CAACC,SAAD,CAAtB;AACAa,IAAAA,EAAE,CAAC,QAAD,CAAF,CACGQ,MADH,CACU;AACNN,MAAAA,KAAK,EAAEA,KADD;AAENK,MAAAA,MAAM,EAAEA,MAFF;AAGNE,MAAAA,UAAU,EAAEN,WAHN;AAINC,MAAAA,OAAO,EAAE,KAJH;AAKNC,MAAAA,QAAQ,EAAEA,QALJ;AAMNK,MAAAA,WAAW,EAAEC,MAAM,CAACL,YAAD,CANb;AAONhB,MAAAA,EAAE,EAAEA;AAPE,KADV,EAUGsB,GAVH,GAFG,CAaH;AACD,GAtBD;;AAwBA,sBACE;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,OAAO,EAAEX,UAAU,CAACY,IAAX,CAAgB,IAAhB,EAAsBC,KAAK,CAACC,KAA5B,CAHX;AAAA,4BAKE;AAAA,gBAAKD,KAAK,CAACC,KAAN,CAAYb;AAAjB;AAAA;AAAA;AAAA;AAAA,YALF,eAME;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA,gBAAgCY,KAAK,CAACC,KAAN,CAAYT;AAA5C;AAAA;AAAA;AAAA;AAAA,YANF;AAAA,KACOQ,KAAK,CAACC,KAAN,CAAYzB,EADnB;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,CArCD;;GAAMS,c;UACWlB,W;;;KADXkB,c","sourcesContent":["import { useEasybase, EasybaseProvider, callFunction } from \"easybase-react\";\nimport ebconfig from \"../../ebconfig\";\n\nimport GENRES from \"../resources/genres\";\n\nconst getGenres = (genre_ids) => {\n  let genres_array = [];\n  genre_ids.map((id) => {\n    const result = GENRES.find((genre) => genre.id === id);\n    // console.log(\"genre\",result);\n    genres_array.push(result.name);\n    return genres_array;\n  });\n\n  console.log(genres_array.toString());\n  return genres_array.toString();\n};\n\nconst AddMovieButton = () => {\n  const { db } = useEasybase();\n\n  const onAddMovie = (\n    id,\n    title,\n    genre_ids,\n    poster_path,\n    watched,\n    overview,\n    vote_average\n  ) => {\n    let genres = getGenres(genre_ids);\n    db(\"MOVIES\")\n      .insert({\n        title: title,\n        genres: genres,\n        posterpath: poster_path,\n        watched: false,\n        overview: overview,\n        voteaverage: Number(vote_average),\n        id: id,\n      })\n      .one();\n    // ^ Automatically refreshes useReturn hook in 'Home' component\n  };\n\n  return (\n    <tr\n      key={props.movie.id}\n      className=\"{classes.tr}\"\n      onClick={onAddMovie.bind(null, props.movie)}\n    >\n      <td>{props.movie.title}</td>\n      <td className=\"{classes.vote}\">{props.movie.vote_average}</td>\n    </tr>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}